version: '3'
services:
    # Minimal Ubuntu 18.04.2 LTS with angular, nodejs, nginx and mongo tools
    wl:
        build: ./
        container_name: wl
        ports:
            - 3000:4201
        volumes:
            - ./server:/app/server            
            - ./pm2_services.json:/app/server/dist/pm2_services.json
            - ./logs:/app/logs
        restart: always
        tty: true

    # # mongo DB official image based on Minimal Ubuntu 16.04.5 LTS
    # db:
    #     image: mongo:4.0.5
    #     container_name: db
    #     ports:
    #         - 27017:27017
    #     volumes:
    #         - ./db/data:/data/db
    #         - ./db/backups:/backups
    #     environment:
    #         - MONGO_DATA_DIR=/data/db
    #         - MONGO_LOG_DIR=/dev/null
    #         - MONGODB_USER="admin"
    #         - MONGODB_PASS="admin"
    #     restart: always
    #     command: --noscripting
